import unittest
from supplybipy import analyse_orders
from unittest import TestCase


class TestInventoryAnalysis(TestCase):
    def test_is_average(self):
        # arrange
        orders_placed = {'jan': 2, 'feb': 2, 'mar': 2, 'apr': 2, 'may': 2, 'jun': 2, 'jul': 2,
                         'aug': 2, 'sep': 2, 'oct': 2, 'nov': 2, 'dec': 2}

        # act
        d = analyse_orders.OrdersUncertainDemand(orders_placed, 'Rx493-90', 4, 554.99, 400.00)
        a = d.average_order
        # assert
        self.assertEqual(a, 2)

    def test_order_constraint(self):
        # arrange
        orders_placed = [2, 2, 2]  # less than five orders are specified
        # act
        # assert
        with self.assertRaises(TypeError):
            analyse_orders.OrdersUncertainDemand(orders_placed, 'Rx493-90', 4)


# put the tests here. if this is called as main then the tests will run


if __name__ == '__main__':
    unittest.main()
