{"version":3,"sources":["bundle.js"],"names":[],"mappings":"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","file":"bundle-compiled.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Created by Fasusi on 22/05/2016.\n\t */\n\n\t$(function () {\n\n\t    $('#loader').hide();\n\t    $('#currency-dropdown-btn >li').click(function () {\n\t        var currency = $(\".dropdown-menu > li > a\").text();\n\t        $('#currency-dropdown-btn').text(currency);\n\t    });\n\n\t    $('div.nav-tab').hover(highlight);\n\n\t    $('#search-btn').click(function () {\n\t        $(\"#profile-rec\").hide();\n\t        $(\"#sku-rec > div\").hide();\n\t        search_recommendations();\n\t    });\n\n\t    $('#sim-search-btn').click(function () {\n\t        $(\"#profile-rec\").hide();\n\t        $(\"#sim-sku-rec > div\").hide();\n\t        search_sim();\n\t    });\n\n\t    $('#simulate-btn').click(function () {\n\t        $('<div id=\"loader\">').show();\n\t        run_simulation();\n\t    });\n\n\t    $('#clear-btn').click(function () {\n\t        show_recommendations();\n\t    });\n\n\t    $('#sim-clear-btn').click(function () {\n\t        show_sim();\n\t    });\n\n\t    $('#sim-detail-btn').click(function () {\n\t        toggle_reporting_view_alt('[id$=sim-detail] > recommendation-panel');\n\t    });\n\n\t    $('#shortages-btn').click(function () {\n\t        toggle_reporting_view('collapse-shortages');\n\t    });\n\n\t    $('#excess-btn').click(function () {\n\t        toggle_reporting_view('collapse-excess');\n\t    });\n\n\t    $('#ses-btn').click(function () {\n\t        toggle_reporting_view('ses-tg');\n\t    });\n\n\t    $('#htces-btn').click(function () {\n\t        toggle_reporting_view('htces');\n\t    });\n\n\t    $('#chat-btn').click(function () {\n\t        chat_to_bot();\n\t    });\n\n\t    $('#classifications-btn').click(function () {\n\t        toggle_reporting_view('collapse-classification');\n\t    });\n\n\t    $('#search-input').keypress(function (event) {\n\t        if (event.keyCode == 13) {\n\t            $('#search-btn').click();\n\t        }\n\t    });\n\n\t    $('#chat-input').keypress(function (event) {\n\t        if (event.keyCode == 13) {\n\t            $('#chat-btn').click();\n\t        }\n\t    });\n\n\t    $('#runs-input').keypress(function (event) {\n\t        if (event.keyCode == 13) {\n\t            $('#simulate-btn').click();\n\t        }\n\t    });\n\n\t    $('#sim-search-input').keypress(function (event) {\n\t        if (event.keyCode == 13) {\n\t            $('#sim-search-btn').click();\n\t        }\n\t    });\n\t    load_currency_codes();\n\t    // ajax request for json containing sku related. Is used to: builds revenue chart (#chart).\n\t    var ay = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"AY\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\t    var ax = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"AX\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\t    var az = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"AZ\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\n\t    var bx = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"BX\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\n\t    var by = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"BY\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\n\t    var bz = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"BZ\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\n\t    var cx = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"CX\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\n\t    var cy = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"CY\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\n\t    var cz = [{\n\t        \"name\": \"abc_xyz_classification\",\n\t        \"op\": \"eq\",\n\t        \"val\": \"cz\",\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10\n\t    }, { \"name\": \"shortage_rank\", \"op\": \"le\", \"val\": 100, \"direction\": \"desc\", \"limit\": 10, \"results_per_page\": 10 }];\n\n\t    var filters = [{\n\t        \"name\": \"shortage_rank\",\n\t        \"op\": \"le\",\n\t        \"val\": 10,\n\t        \"direction\": \"desc\",\n\t        \"limit\": 10,\n\t        \"results_per_page\": 10\n\t    }];\n\t    var excess_filters = [{ \"name\": \"excess_cost\", \"op\": \"gt\", \"val\": 0, \"direction\": \"desc\", \"limit\": 10 }];\n\n\t    $.ajax({\n\t        type: \"GET\",\n\t        contentType: \"application/json; charset=utf-8\",\n\t        url: '/reporting/api/v1.0/top_shortages',\n\t        dataType: 'json',\n\t        async: true,\n\t        data: { \"q\": JSON.stringify({ \"filters\": filters }) },\n\t        success: function (data) {\n\t            console.log(data.json_list);\n\t            //var currency_code = data.objects[i].currency.currency_code;\n\t            //currency_fetch(currency_code);\n\t            //create_shortages_table(data);\n\t            render_shortages_chart(data, '#shortage-chart');\n\t        },\n\t        error: function (result) {\n\n\t            console.log(result);\n\t        }\n\t    });\n\t    //build force node graph on classification view page, is dependent on jinja template logic inserting a tag on the page\n\t    //to identify what classification view has been triggered.\n\t    var ay_val = $('#AY-node').length;\n\t    var ax_val = $('#AX-node').length;\n\t    var az_val = $('#AZ-node').length;\n\t    var bx_val = $('#BX-node').length;\n\t    var by_val = $('#BY-node').length;\n\t    var bz_val = $('#BZ-node').length;\n\t    var cx_val = $('#CX-node').length;\n\t    var cy_val = $('#CY-node').length;\n\t    var cz_val = $('#CZ-node').length;\n\n\t    //console.log(ax_val);\n\t    if (ay_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": ay }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                var node_chart = new RenderForceChart(data, '#node-chart');\n\t                node_chart.classification_force();\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\t    if (ax_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": ax }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                if (data != null) {\n\t                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n\t                    node_chart2.classification_force();\n\t                }\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\t    if (az_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": az }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                if (data != null) {\n\t                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n\t                    node_chart2.classification_force();\n\t                }\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\t    if (bx_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": bx }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                if (data != null) {\n\t                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n\t                    node_chart2.classification_force();\n\t                }\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\n\t    if (by_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": by }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                if (data != null) {\n\t                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n\t                    node_chart2.classification_force();\n\t                }\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\t    if (bz_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": bz }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                if (data != null) {\n\t                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n\t                    node_chart2.classification_force();\n\t                }\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\t    if (cx_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": cx }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                if (data != null) {\n\t                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n\t                    node_chart2.classification_force();\n\t                }\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\t    if (cy_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": cy }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                if (data != null) {\n\t                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n\t                    node_chart2.classification_force();\n\t                }\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\t    if (cz_val > 0) {\n\t        $.ajax({\n\t            type: \"GET\",\n\t            contentType: \"application/json; charset=utf-8\",\n\t            url: '/api/inventory_analysis',\n\t            dataType: 'json',\n\t            async: true,\n\t            data: { \"q\": JSON.stringify({ \"filters\": cz }) },\n\t            success: function (data) {\n\t                //console.log(data.objects);\n\t                if (data != null) {\n\t                    var node_chart2 = new RenderForceChart(data, '#node-chart');\n\t                    node_chart2.classification_force();\n\t                }\n\t            },\n\t            error: function (result) {}\n\t        });\n\t    }\n\t    $.ajax({\n\t        type: \"GET\",\n\t        contentType: \"application/json; charset=utf-8\",\n\t        url: '/api/inventory_analysis',\n\t        dataType: 'json',\n\t        async: true,\n\n\t        data: { \"q\": JSON.stringify({ \"filters\": excess_filters }) },\n\t        success: function (data) {\n\t            //console.log(data.objects);\n\t            create_excess_table(data);\n\t        },\n\t        error: function (result) {}\n\t    });\n\n\t    //ajax request for json containing all costs summarised by product class (abcxyz), builds pie chart (#chart2)\n\t    $.ajax({\n\t        type: \"GET\",\n\t        contentType: \"application/json; charset=utf-8\",\n\t        url: '/reporting/api/v1.0/abc_summary',\n\t        dataType: 'json',\n\t        async: true,\n\t        data: \"{}\",\n\t        success: function (data) {\n\t            //console.log(data);\n\t            var pie_chart1 = new RenderPieChart(data, '#pie-shortage');\n\t            pie_chart1.shortages();\n\t            var pie_chart2 = new RenderPieChart(data, '#excess-pie');\n\t            pie_chart2.excess();\n\t            create_classification_table(data);\n\t            var pie_chart3 = new RenderPieChart(data, '#revenue-class-chart');\n\t            pie_chart3.classification('revenue');\n\t            var pie_chart4 = new RenderPieChart(data, '#shortage-class-chart');\n\t            pie_chart4.classification('shortage');\n\t            var pie_chart5 = new RenderPieChart(data, '#excess-class-chart');\n\t            pie_chart5.classification('excess');\n\t        },\n\t        error: function (result) {\n\t            //console.log(result);// make 404.html page\n\t        }\n\t    });\n\n\t    $.ajax({\n\t        type: \"GET\",\n\t        contentType: \"application/json; charset=utf-8\",\n\t        url: '/reporting/api/v1.0/top_excess/10',\n\t        dataType: 'json',\n\t        async: true,\n\t        data: \"{}\",\n\t        success: function (data) {\n\t            //console.log(data);\n\t            render_excess_chart(data, '#excess-chart');\n\t        },\n\t        error: function (result) {\n\t            //console.log(result);// make 404.html page\n\t        }\n\t    });\n\n\t    $.ajax({\n\t        type: \"GET\",\n\t        contentType: \"application/json; charset=utf-8\",\n\t        url: '/api/forecast_breakdown',\n\t        dataType: 'json',\n\t        async: true,\n\t        data: \"{}\",\n\t        success: function (data) {\n\t            //console.log(data);\n\t            //console.log(data);\n\n\t        },\n\t        error: function (result) {\n\t            //console.log(result);// make 404.html page\n\t        }\n\t    });\n\n\t    bar_chart_sku();\n\t    line_chart_forecast();\n\t    line_chart_forecast_ses();\n\t});\n\n\t/** Searches for sku on recommendation page (feed.html)\n\t *  @function search_recommendations */\n\tfunction search_recommendations() {\n\n\t    var message = $('#search-input').val();\n\t    show_search(message);\n\t}\n\n\tfunction search_sim() {\n\n\t    var message = $('#sim-search-input').val();\n\t    show_search(message);\n\t}\n\n\tfunction show_search(message) {\n\t    $(\"#\" + message.trim()).show();\n\t}\n\n\tfunction show_recommendations() {\n\t    $('#search-input').val('');\n\t    $(\"#profile-rec\").show(500, \"linear\");\n\t    $(\"#sku-rec > div\").show().slideDown(600);\n\t}\n\n\tfunction show_sim() {\n\n\t    $('#sim-search-input').val('');\n\t    $(\"#sim-profile-rec\").show(500, \"linear\");\n\t    $(\"#sim-sku-rec > div\").show().slideDown(600);\n\t}\n\n\tfunction run_simulation() {\n\t    var runs = $('#runs-input').val();\n\n\t    window.location = location.host + '/simulation/' + runs;\n\t}\n\n\tfunction chat_to_bot() {\n\t    var user = 'You';\n\t    var message = $('#chat-input').val();\n\t    //console.log(message);\n\t    render_bot_response(message, user);\n\n\t    $.ajax({\n\t        type: \"GET\",\n\t        contentType: \"application/json; charset=utf-8\",\n\t        url: '/chat/' + message,\n\t        dataType: 'json',\n\t        async: true,\n\t        data: \"{}\",\n\t        success: function (data) {\n\t            var communicator = 'Dash';\n\t            render_bot_response(data, communicator);\n\t            //console.log(data);\n\t        },\n\t        error: function (result) {\n\n\t            //console.log(result);// make 404.html page\n\t        }\n\t    });\n\n\t    $('#chat-input').val('');\n\t}\n\n\tfunction render_bot_response(message, communicator) {\n\n\t    switch (communicator) {\n\t        case 'You':\n\n\t            $('<p style=\\\"color:#042029;\\\">' + communicator + ': ' + message + '</p><br><p></p>').insertAfter('#response-panel p:last').fadeIn(\"slow\");\n\n\t            break;\n\t        case 'Dash':\n\t            for (i = 0; i < message.json_list.length; i++) {\n\t                if (message.json_list[i] != null && message.json_list[i] != '') {\n\t                    $('<p style=\\\"color:#a2e1f6;\\\">' + communicator + ': ' + message.json_list[i] + '</p><br><p></p>').hide().insertAfter('#response-panel p:last').delay(800).fadeIn(1000);\n\t                    $(\"#response-panel\").animate({ scrollTop: $('#response-panel').prop(\"scrollHeight\") }, 500);\n\t                    ;\n\t                }\n\t            }\n\n\t            break;\n\t    }\n\t}\n\n\tfunction bar_chart_sku() {\n\t    var orders_data = document.getElementById(\"orders-data\");\n\t    //console.log(orders_data.getElementsByClassName(\"orders-raw-data\"));\n\t    var wins = [];\n\t    var period = [];\n\n\t    for (i = 0; i < orders_data.getElementsByClassName(\"orders-raw-data\").length; i++) {\n\n\t        wins.push([i + 1, parseInt(orders_data.getElementsByClassName(\"orders-raw-data\")[i].innerText)]);\n\t        period.push([i + 1, i + 1]);\n\t        //console.log(wins);\n\t    }\n\t    wins = [wins];\n\t    //console.log(period);\n\n\t    Flotr.draw(document.getElementById(\"demand-chart\"), wins, {\n\t        bars: {\n\t            show: true,\n\t            barWidth: 0.5\n\t        },\n\t        yaxis: {\n\t            min: 0,\n\t            tickDecimals: 0\n\t        },\n\t        xaxis: {\n\t            ticks: period\n\t        }\n\t    });\n\t}\n\n\tfunction line_chart_forecast() {\n\t    var orders_data = document.getElementById(\"orders-data\");\n\t    var forecast_data = document.getElementById(\"forecast-data\");\n\t    var forecast_values = document.getElementById(\"forecast\");\n\t    var safety_stock = document.getElementById(\"safety-stock\");\n\t    var reorder_lvl = document.getElementById(\"reorder-lvl\");\n\n\t    //console.log(safety_stock.innerText);\n\t    var forecast = [];\n\t    var orders = [];\n\t    var regression = [];\n\t    var safety = [];\n\t    var reorder = [];\n\n\t    for (i = 0; i < forecast_data.getElementsByClassName(\"forecast-raw-data\").length; i++) {\n\n\t        safety.push([i + 1, parseInt(safety_stock.innerText)]);\n\t        reorder.push([i + 1, parseInt(reorder_lvl.innerText)]);\n\t    }\n\n\t    for (i = 0; i < forecast_data.getElementsByClassName(\"forecast-raw-data\").length; i++) {\n\n\t        forecast.push([i + 1, parseInt(forecast_data.getElementsByClassName(\"forecast-raw-data\")[i].innerText)]);\n\t    }\n\n\t    for (i = 0; i < orders_data.getElementsByClassName(\"orders-raw-data\").length; i++) {\n\n\t        orders.push([i + 1, parseInt(orders_data.getElementsByClassName(\"orders-raw-data\")[i].innerText)]);\n\t    }\n\n\t    //for (i = 0; i < forecast_values.getElementsByClassName(\"forecast-values\").length; i++) {\n\t    //\n\t    //    forecast.push([forecast.length + i, parseInt(forecast_values.getElementsByClassName(\"forecast-values\")[i].innerText)]);\n\t    //\n\t    //}\n\n\t    for (i = 0; i < forecast_data.getElementsByClassName(\"regression\").length; i++) {\n\n\t        regression.push([i + 1, parseInt(forecast_data.getElementsByClassName(\"regression\")[i].innerText)]);\n\t    }\n\n\t    //console.log(forecast);\n\t    //console.log(wins);\n\n\t    Flotr.draw(document.getElementById(\"forecast-chart\"), [{\n\t        data: orders,\n\t        lines: { show: true },\n\t        label: \"orders\"\n\n\t    }, {\n\t        data: forecast,\n\t        lines: { show: true },\n\t        label: \"one-step forecast\"\n\t    }, {\n\t        data: regression,\n\t        lines: { show: true },\n\t        label: \"regression\"\n\t    }, {\n\t        data: safety,\n\t        lines: { show: true },\n\t        label: \"safety stock level\",\n\t        color: \"#C61C6F\"\n\t    }, {\n\t        data: reorder,\n\t        lines: { show: true },\n\t        label: \"reorder level\"\n\t    }]);\n\t}\n\n\tfunction line_chart_forecast_ses() {\n\t    var orders_data = document.getElementById(\"orders-data\");\n\t    console.log(orders_data);\n\t    var forecast_data = document.getElementById(\"ses-data\");\n\t    var forecast_values = document.getElementById(\"ses\");\n\t    var safety_stock = document.getElementById(\"safety-stock\");\n\t    var reorder_lvl = document.getElementById(\"reorder-lvl\");\n\n\t    //console.log(safety_stock.innerText);\n\t    var forecast = [];\n\t    var orders = [];\n\t    var regression = [];\n\t    var safety = [];\n\t    var reorder = [];\n\n\t    for (i = 0; i < forecast_data.getElementsByClassName(\"forecast-raw-data-ses\").length; i++) {\n\n\t        safety.push([i + 1, parseInt(safety_stock.innerText)]);\n\t        reorder.push([i + 1, parseInt(reorder_lvl.innerText)]);\n\t    }\n\n\t    for (i = 0; i < forecast_data.getElementsByClassName(\"forecast-raw-data-ses\").length; i++) {\n\n\t        forecast.push([i + 1, parseInt(forecast_data.getElementsByClassName(\"forecast-raw-data-ses\")[i].innerText)]);\n\t    }\n\n\t    for (i = 0; i < orders_data.getElementsByClassName(\"orders-raw-data\").length; i++) {\n\n\t        orders.push([i + 1, parseInt(orders_data.getElementsByClassName(\"orders-raw-data\")[i].innerText)]);\n\t    }\n\n\t    for (i = 0; i < forecast_data.getElementsByClassName(\"regression-ses\").length; i++) {\n\n\t        regression.push([i + 1, parseInt(forecast_data.getElementsByClassName(\"regression-ses\")[i].innerText)]);\n\t    }\n\n\t    //console.log(forecast);\n\t    //console.log(wins);\n\n\t    Flotr.draw(document.getElementById(\"ses-chart\"), [{\n\t        data: orders,\n\t        lines: { show: true },\n\t        label: \"orders\"\n\n\t    }, {\n\t        data: forecast,\n\t        lines: { show: true },\n\t        label: \"one-step forecast\"\n\t    }, {\n\t        data: regression,\n\t        lines: { show: true },\n\t        label: \"regression\"\n\t    }, {\n\t        data: safety,\n\t        lines: { show: true },\n\t        label: \"safety stock level\",\n\t        color: \"#C61C6F\"\n\t    }, {\n\t        data: reorder,\n\t        lines: { show: true },\n\t        label: \"reorder level\"\n\t    }]);\n\t}\n\n\tfunction format_number(num) {\n\t    return num.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n\t}\n\n\t// helper functions for unpacking data from ajax requests\n\tvar unpack = {\n\t    attribute_enum: {\n\t        revenue: 'revenue',\n\t        shortage_cost: 'shortage_cost',\n\t        shortages: 'shortages'\n\n\t    },\n\n\t    sku_detail: function (data, value) {\n\t        var barData = [];\n\t        var tempData;\n\t        var key;\n\t        var i;\n\t        for (key in data) {\n\t            tempData = data[key];\n\t            //console.log(tempData);\n\t            for (i in tempData) {\n\t                //.log(tempData[i].revenue);\n\t                switch (value) {\n\t                    case unpack.attribute_enum.revenue:\n\t                        barData.push(tempData[i].revenue);\n\t                        //console.log(barData);\n\t                        break;\n\t                    case upack.attribute_enum.shoratge_cost:\n\t                        barData.push(tempData[i].shoratge_cost);\n\t                }\n\t            }\n\t        }\n\t        return barData;\n\t    },\n\n\t    excess: function (data, target) {\n\t        var excess_data = [];\n\t        var tempData;\n\t        var key;\n\t        for (key in data) {\n\t            tempData = data[key];\n\t            //console.log(tempData);\n\t            for (i in tempData) {\n\t                //console.log(tempData[i]);\n\t                switch (target) {\n\n\t                    case 'chart':\n\t                        excess_data.push([tempData[i].abc_xyz_classification, tempData[i].total_excess]);\n\t                        //console.log (excess_data);\n\t                        break;\n\n\t                    case 'table':\n\t                        excess_data.push(tempData[i]);\n\t                        //console.log(excess_data);\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t        return excess_data;\n\t    },\n\n\t    pie: function (data) {\n\t        var pieData = [];\n\t        var tempData;\n\t        var key;\n\n\t        for (key in data) {\n\t            tempData = data[key];\n\t            //console.log(tempData);\n\t            for (i in tempData) {\n\t                //console.log(tempData[i]);\n\t                pieData.push([tempData[i].abc_xyz_classification, tempData[i].total_shortages]);\n\t                //onsole.log(pieData);\n\t            }\n\t        }\n\t        return pieData;\n\t    },\n\n\t    shortages: function (data, target) {\n\t        var shortages_data = [];\n\t        var tempData;\n\t        var key;\n\t        var i;\n\t        for (key in data) {\n\t            tempData = data[key];\n\t            //console.log(tempData);\n\t            for (i in tempData) {\n\t                //console.log(tempData[i]);\n\t                switch (target) {\n\n\t                    case 'chart':\n\t                        shortages_data.push([tempData[i].sku_id, tempData[i].shortage_cost]);\n\t                        //console.log(shortages_data);\n\t                        break;\n\n\t                    case 'table':\n\t                        shortages_data.push(tempData[i]);\n\t                        //console.log(shortages_data);\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t        return shortages_data;\n\t    },\n\t    excess_cost: function (data, target) {\n\t        var excess_data = [];\n\t        var tempData;\n\t        var key;\n\t        var i;\n\t        for (key in data) {\n\t            tempData = data[key];\n\t            //console.log(tempData);\n\t            for (i in tempData) {\n\t                //console.log(tempData[i]);\n\t                switch (target) {\n\n\t                    case 'chart':\n\t                        excess_data.push([tempData[i].sku_id, tempData[i].excess_cost]);\n\t                        //console.log(shortages_data);\n\t                        break;\n\n\t                    case 'table':\n\t                        excess_data.push(tempData[i]);\n\t                        //console.log(shortages_data);\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t        return excess_data;\n\t    },\n\n\t    excess_by_class: function (data, target, classification) {\n\t        var excess_data = [];\n\t        var tempData;\n\t        var key;\n\t        for (key in data) {\n\t            tempData = data[key];\n\t            //console.log(tempData[0]);\n\t            for (i in tempData) {\n\t                //console.log(tempData[i]);\n\t                switch (target) {\n\n\t                    case 'chart':\n\t                        switch (classification) {\n\t                            case 'AY':\n\t                                if (tempData[i].abc_xyz_classification == 'AY') {\n\t                                    excess_data.push([['excess', tempData[i].total_excess], ['revenue', tempData[i].total_revenue], ['shortage', tempData[i].total_shortages]]);\n\t                                }\n\t                        }\n\t                        //console.log (excess_data);\n\t                        break;\n\n\t                    case 'table':\n\t                        excess_data.push(tempData[i]);\n\t                        //console.log(excess_data);\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t        //console.log(excess_data);\n\t        return excess_data;\n\t    },\n\n\t    abc_xyz: function abc_xyz(data, target) {\n\t        var abcxyz_data = [];\n\t        var tempData;\n\t        var key;\n\t        var i;\n\t        for (key in data) {\n\t            tempData = data[key];\n\t            //console.log(tempData);\n\t            for (i in tempData) {\n\t                //console.log(tempData[i]);\n\t                switch (target) {\n\n\t                    case 'chart':\n\t                        abcxyz_data.push([tempData[i].sku_id, tempData[i].shortage_cost]);\n\t                        //console.log(shortages_data);\n\t                        break;\n\n\t                    case 'table':\n\t                        abcxyz_data.push(tempData[i]);\n\t                        //console.log(shortages_data);\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t        return abcxyz_data;\n\t    },\n\n\t    classification: function classification(data, target) {\n\t        var tempData;\n\t        var key;\n\t        var classification_data = [];\n\t        var i;\n\t        for (key in data) {\n\t            tempData = data[key];\n\t            //console.log(tempData);\n\t            for (i in tempData) {\n\t                //console.log(tempData[i]);\n\t                switch (target) {\n\n\t                    case 'revenue':\n\t                        classification_data.push([tempData[i].abc_xyz_classification, tempData[i].total_revenue]);\n\t                        //console.log(classification_data);\n\t                        break;\n\n\t                    case 'shortage':\n\t                        classification_data.push([tempData[i].abc_xyz_classification, tempData[i].total_shortages]);\n\t                        //console.log(classification_data);\n\t                        break;\n\n\t                    case 'excess':\n\t                        classification_data.push([tempData[i].abc_xyz_classification, tempData[i].total_excess]);\n\t                        //console.log(classification_data);\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t        return classification_data;\n\t    }\n\n\t};\n\n\t//loads the currency codes into dropdown\n\tfunction load_currency_codes() {\n\t    var currency_symbols = [[\"AED\", \"United Arab Emirates Dirham\"], [\"AFN\", \"Afghanistan Afghani\"], [\"ALL\", \"Albania Lek\"], [\"AMD\", \"Armenia Dram\"], [\"ANG\", \"Netherlands Antilles Guilder\"], [\"AOA\", \"Angola Kwanza\"], [\"ARS\", \"Argentina Peso\"], [\"AUD\", \"Australia Dollar\"], [\"AWG\", \"Aruba Guilder\"], [\"AZN\", \"Azerbaijan New Manat\"], [\"BAM\", \"Bosnia and Herzegovina Convertible Marka\"], [\"BBD\", \"Barbados Dollar\"], [\"BDT\", \"Bangladesh Taka\"], [\"BGN\", \"Bulgaria Lev\"], [\"BHD\", \"Bahrain Dinar\"], [\"BIF\", \"Burundi Franc\"], [\"BMD\", \"Bermuda Dollar\"], [\"BND\", \"Brunei Darussalam Dollar\"], [\"BOB\", \"Bolivia Bolíviano\"], [\"BRL\", \"Brazil Real\"], [\"BSD\", \"Bahamas Dollar\"], [\"BTN\", \"Bhutan Ngultrum\"], [\"BWP\", \"Botswana Pula\"], [\"BYR\", \"Belarus Ruble\"], [\"BZD\", \"Belize Dollar\"], [\"CAD\", \"Canada Dollar\"], [\"CDF\", \"Congo/Kinshasa Franc\"], [\"CHF\", \"Switzerland Franc\"], [\"CLP\", \"Chile Peso\"], [\"CNY\", \"China Yuan Renminbi\"], [\"COP\", \"Colombia Peso\"], [\"CRC\", \"Costa Rica Colon\"], [\"CUC\", \"Cuba Convertible Peso\"], [\"CUP\", \"Cuba Peso\"], [\"CVE\", \"Cape Verde Escudo\"], [\"CZK\", \"Czech Republic Koruna\"], [\"DJF\", \"Djibouti Franc\"], [\"DKK\", \"Denmark Krone\"], [\"DOP\", \"Dominican Republic Peso\"], [\"DZD\", \"Algeria Dinar\"], [\"EGP\", \"Egypt Pound\"], [\"ERN\", \"Eritrea Nakfa\"], [\"ETB\", \"Ethiopia Birr\"], [\"EUR\", \"Euro Member Countries\"], [\"FJD\", \"Fiji Dollar\"], [\"FKP\", \"Falkland Islands (Malvinas) Pound\"], [\"GBP\", \"United Kingdom Pound\"], [\"GEL\", \"Georgia Lari\"], [\"GGP\", \"Guernsey Pound\"], [\"GHS\", \"Ghana Cedi\"], [\"GIP\", \"Gibraltar Pound\"], [\"GMD\", \"Gambia Dalasi\"], [\"GNF\", \"Guinea Franc\"], [\"GTQ\", \"Guatemala Quetzal\"], [\"GYD\", \"Guyana Dollar\"], [\"HKD\", \"Hong Kong Dollar\"], [\"HNL\", \"Honduras Lempira\"], [\"HRK\", \"Croatia Kuna\"], [\"HTG\", \"Haiti Gourde\"], [\"HUF\", \"Hungary Forint\"], [\"IDR\", \"Indonesia Rupiah\", \"ILS\", \"Israel Shekel\"], [\"IMP\", \"Isle of Man Pound\"], [\"INR\", \"India Rupee\"], [\"IQD\", \"Iraq Dinar\"], [\"IRR\", \"Iran Rial\"], [\"ISK\", \"Iceland Krona\"], [\"JEP\", \"Jersey Pound\"], [\"JMD\", \"Jamaica Dollar\"], [\"JOD\", \"Jordan Dinar\"], [\"JPY\", \"Japan Yen\"], [\"KES\", \"Kenya Shilling\"], [\"KGS\", \"Kyrgyzstan Som\"], [\"KHR\", \"Cambodia Riel\"], [\"KMF\", \"Comoros Franc\"], [\"KPW\", \"Korea (North) Won\"], [\"KRW\", \"Korea (South) Won\"], [\"KWD\", \"Kuwait Dinar\"], [\"KYD\", \"Cayman Islands Dollar\"], [\"KZT\", \"Kazakhstan Tenge\"], [\"LAK:\", \"Laos Kip\"], [\"LBP\", \"Lebanon Pound\"], [\"LKR\", \"Sri Lanka Rupee\"], [\"LRD\", \"Liberia Dollar\"], [\"LSL\", \"Lesotho Loti\"], [\"LYD\", \"Libya Dinar\"], [\"MAD\", \"Morocco Dirham\"], [\"MDL\", \"Moldova Leu\"], [\"MGA\", \"Madagascar Ariary\"], [\"MKD\", \"Macedonia Denar\"], [\"MMK\", \"Myanmar (Burma) Kyat\"], [\"MNT\", \"Mongolia Tughrik\"], [\"MOP\", \"Macau Pataca\"], [\"MRO\", \"Mauritania Ouguiya\"], [\"MUR\", \"Mauritius Rupee\"], [\"MVR\", \"Maldives (Maldive Islands) Rufiyaa\"], [\"MWK\", \"Malawi Kwacha\"], [\"MXN\", \"Mexico Peso\"], [\"MYR\", \"Malaysia Ringgit\"], [\"MZN\", \"Mozambique Metical\"], [\"NAD\", \"Namibia Dollar\"], [\"NGN\", \"Nigeria Naira\"], [\"NIO\", \"Nicaragua Cordoba\"], [\"NOK:\", \"Norway Krone\"], [\"NPR\", \"Nepal Rupee\"], [\"NZD\", \"New Zealand Dollar\"], [\"OMR\", \"Oman Rial\"], [\"PAB\", \"Panama Balboa\"], [\"PEN\", \"Peru Sol\"], [\"PGK\", \"Papua New Guinea Kina\"], [\"PHP\", \"Philippines Peso\"], [\"PKR\", \"Pakistan Rupee\"], [\"PLN\", \"Poland Zloty\"], [\"PYG\", \"Paraguay Guarani\"], [\"QAR\", \"Qatar Riyal\"], [\"RON\", \"Romania New Leu\"], [\"RSD\", \"Serbia Dinar\"], [\"RUB\", \"Russia Ruble\"], [\"RWF\", \"Rwanda Franc\"], [\"SAR\", \"Saudi Arabia Riyal\"], [\"SBD\", \"Solomon Islands Dollar\"], [\"SCR\", \"Seychelles Rupee\"], [\"SDG\", \"Sudan Pound\"], [\"SEK\", \"Sweden Krona\"], [\"SGD\", \"Singapore Dollar\"], [\"SHP\", \"Saint Helena Pound\"], [\"SLL\", \"Sierra Leone Leone\"], [\"SOS\", \"Somalia Shilling\"], [\"SPL:\", \"Seborga Luigino\"], [\"SR:D\", \"Suriname Dollar\"], [\"STD\", \"São Tomé and Príncipe Dobra\"], [\"SVC\", \"El Salvador Colon\"], [\"SYP\", \"Syria Pound\"], [\"SZL\", \"Swaziland Lilangeni\"], [\"THB\", \"Thailand Baht\"], [\"TJS\", \"Tajikistan Somoni\"], [\"TMT\", \"Turkmenistan Manat\"], [\"TND\", \"Tunisia Dinar\"], [\"TOP\", \"Tonga Pa'anga\"], [\"TRY\", \"Turkey Lira\"], [\"TTD\", \"Trinidad and Tobago Dollar\"], [\"TVD\", \"Tuvalu Dollar\"], [\"TWD\", \"Taiwan New Dollar\"], [\"TZS\", \"Tanzania Shilling\"], [\"UAH\", \"Ukraine Hryvnia\"], [\"UGX\", \"Uganda Shilling\"], [\"USD\", \"American Dollars\"], [\"UYU\", \"Uruguay Peso\"], [\"UZS\", \"Uzbekistan Som\"], [\"VEF\", \"Venezuela Bolivar\"], [\"VND\", \"Viet Nam Dong\"], [\"VUV\", \"Vanuatu Vatu\"], [\"WST\", \"Samoa Tala\"], [\"XAF\", \"Communauté Financière Africaine (BEAC) CFA Franc BEAC\"], [\"XCD\", \"East Caribbean Dollar\"], [\"XDR\", \"International Monetary Fund (IMF) Special Drawing Rights\"], [\"XOF\", \"Communauté Financière Africaine (BCEAO) Franc\"], [\"XPF\", \"Comptoirs Français du Pacifique (CFP) Franc\"], [\"YER\", \"Yemen Rial\"], [\"ZAR\", \"South Africa Rand\"], [\"ZMW\", \"Zambia Kwacha\"], [\"ZWD\", \"Zimbabwe Dollar\"]];\n\t    for (var i = 0; i < currency_symbols.length; i++) {\n\t        //console.log(currency_symbols[i][0]);\n\t        $(\"<li role=\\\"presentation\\\"><a role=\\\"menuitem\\\" class =\\\"text-center\\\" tabindex=\\\"-1\\\" href=\\\"#\\\">\" + currency_symbols[i][0] + \"</a></li>\").insertAfter(\"#currency-list li:last\");\n\t    }\n\t}\n\n\tfunction highlight() {\n\n\t    $(this).toggleClass('highlight-event');\n\t}\n\n\tfunction toggle_reporting_view(id) {\n\t    $('#' + id).toggle(\"slow\");\n\t}\n\n\tfunction toggle_reporting_view_alt(id) {\n\t    $(id).toggle(\"slow\");\n\t}\n\n\tfunction currency_fetch(id) {\n\n\t    var filters = [{ \"name\": \"id\", \"op\": \"eq\", \"val\": id, \"direction\": \"asc\", \"limit\": 1 }];\n\n\t    $.ajax({\n\t        type: \"GET\",\n\t        contentType: \"application/json; charset=utf-8\",\n\t        url: '/api/currency',\n\t        dataType: 'json',\n\t        async: true,\n\t        data: { \"q\": JSON.stringify({ \"filters\": filters }) },\n\t        success: function (data) {\n\t            //console.log(JSON.stringify({\"filters\": filters}));\n\t            //console.log(data);\n\t            var li = [...data.objects];\n\t            //console.log(li[0].currency_code);\n\t            $('#currency-code').text(li[0].currency_code);\n\t            return li[0].currency_code;\n\t        },\n\t        error: function (result) {}\n\t    });\n\t}\n\n\tfunction currency_symbol_allocator(currency_symbol) {\n\t    var currency_symbols = {\n\t        \"AED\": \"&#92;&#117;&#48;&#54;&#50;&#102;&#46;\", \"AFN\": \"&#1547;\", \"ALL\": \"Albania Lek\",\n\t        \"AMD\": \"&#1423;\", \"ANG\": \"&#402;\", \"AOA\": \"Angola Kwanza\",\n\t        \"ARS\": \"Argentina Peso\", \"AUD\": \"Australia Dollar\", \"AWG\": \"Aruba Guilder\",\n\t        \"AZN\": \"Azerbaijan New Manat\", \"BAM\": \"Bosnia and Herzegovina Convertible Marka\",\n\t        \"BBD\": \"Barbados Dollar\", \"BDT\": \"Bangladesh Taka\", \"BGN\": \"Bulgaria Lev\", \"BHD\": \"Bahrain Dinar\",\n\t        \"BIF\": \"Burundi Franc\", \"BMD\": \"Bermuda Dollar\", \"BND\": \"Brunei Darussalam Dollar\",\n\t        \"BOB\": \"Bolivia Bolíviano\", \"BRL\": \"Brazil Real\", \"BSD\": \"Bahamas Dollar\",\n\t        \"BTN\": \"Bhutan Ngultrum\", \"BWP\": \"Botswana Pula\", \"BYR\": \"Belarus Ruble\", \"BZD\": \"Belize Dollar\",\n\t        \"CAD\": \"Canada Dollar\", \"CDF\": \"Congo/Kinshasa Franc\", \"CHF\": \"Switzerland Franc\",\n\t        \"CLP\": \"Chile Peso\", \"CNY\": \"China Yuan Renminbi\", \"COP\": \"Colombia Peso\",\n\t        \"CRC\": \"Costa Rica Colon\", \"CUC\": \"Cuba Convertible Peso\", \"CUP\": \"Cuba Peso\",\n\t        \"CVE\": \"Cape Verde Escudo\", \"CZK\": \"Czech Republic Koruna\", \"DJF\": \"Djibouti Franc\",\n\t        \"DKK\": \"Denmark Krone\", \"DOP\": \"Dominican Republic Peso\", \"DZD\": \"Algeria Dinar\",\n\t        \"EGP\": \"Egypt Pound\", \"ERN\": \"Eritrea Nakfa\", \"ETB\": \"Ethiopia Birr\",\n\t        \"EUR\": \"&#8364;\", \"FJD\": \"Fiji Dollar\", \"FKP\": \"Falkland Islands (Malvinas) Pound\",\n\t        \"GBP\": \"United Kingdom Pound\", \"GEL\": \"Georgia Lari\", \"GGP\": \"Guernsey Pound\",\n\t        \"GHS\": \"Ghana Cedi\", \"GIP\": \"Gibraltar Pound\", \"GMD\": \"Gambia Dalasi\", \"GNF\": \"Guinea Franc\",\n\t        \"GTQ\": \"Guatemala Quetzal\", \"GYD\": \"Guyana Dollar\", \"HKD\": \"Hong Kong Dollar\",\n\t        \"HNL\": \"Honduras Lempira\", \"HRK\": \"Croatia Kuna\", \"HTG\": \"Haiti Gourde\", \"HUF\": \"Hungary Forint\",\n\t        \"IDR\": \"Indonesia Rupiah\", \"ILS\": \"Israel Shekel\", \"IMP\": \"Isle of Man Pound\",\n\t        \"INR\": \"India Rupee\", \"IQD\": \"Iraq Dinar\", \"IRR\": \"Iran Rial\", \"ISK\": \"Iceland Krona\",\n\t        \"JEP\": \"Jersey Pound\", \"JMD\": \"Jamaica Dollar\", \"JOD\": \"Jordan Dinar\", \"JPY\": \"Japan Yen\",\n\t        \"KES\": \"Kenya Shilling\", \"KGS\": \"Kyrgyzstan Som\", \"KHR\": \"Cambodia Riel\", \"KMF\": \"Comoros Franc\",\n\t        \"KPW\": \"Korea (North) Won\", \"KRW\": \"Korea (South) Won\", \"KWD\": \"Kuwait Dinar\",\n\t        \"KYD\": \"Cayman Islands Dollar\", \"KZT\": \"Kazakhstan Tenge\", \"LAK:\": \"Laos Kip\",\n\t        \"LBP\": \"Lebanon Pound\", \"LKR\": \"Sri Lanka Rupee\", \"LRD\": \"Liberia Dollar\", \"LSL\": \"Lesotho Loti\",\n\t        \"LYD\": \"Libya Dinar\", \"MAD\": \"Morocco Dirham\", \"MDL\": \"Moldova Leu\", \"MGA\": \"Madagascar Ariary\",\n\t        \"MKD\": \"Macedonia Denar\", \"MMK\": \"Myanmar (Burma) Kyat\", \"MNT\": \"Mongolia Tughrik\",\n\t        \"MOP\": \"Macau Pataca\", \"MRO\": \"Mauritania Ouguiya\", \"MUR\": \"Mauritius Rupee\",\n\t        \"MVR\": \"Maldives (Maldive Islands) Rufiyaa\", \"MWK\": \"Malawi Kwacha\", \"MXN\": \"Mexico Peso\",\n\t        \"MYR\": \"Malaysia Ringgit\", \"MZN\": \"Mozambique Metical\", \"NAD\": \"Namibia Dollar\",\n\t        \"NGN\": \"Nigeria Naira\", \"NIO\": \"Nicaragua Cordoba\", \"NOK:\": \"Norway Krone\", \"NPR\": \"Nepal Rupee\",\n\t        \"NZD\": \"New Zealand Dollar\", \"OMR\": \"Oman Rial\", \"PAB\": \"Panama Balboa\", \"PEN\": \"Peru Sol\",\n\t        \"PGK\": \"Papua New Guinea Kina\", \"PHP\": \"Philippines Peso\", \"PKR\": \"Pakistan Rupee\",\n\t        \"PLN\": \"Poland Zloty\", \"PYG\": \"Paraguay Guarani\", \"QAR\": \"Qatar Riyal\", \"RON\": \"Romania New Leu\",\n\t        \"RSD\": \"Serbia Dinar\", \"RUB\": \"Russia Ruble\", \"RWF\": \"Rwanda Franc\", \"SAR\": \"Saudi Arabia Riyal\",\n\t        \"SBD\": \"Solomon Islands Dollar\", \"SCR\": \"Seychelles Rupee\", \"SDG\": \"Sudan Pound\",\n\t        \"SEK\": \"Sweden Krona\", \"SGD\": \"Singapore Dollar\", \"SHP\": \"Saint Helena Pound\",\n\t        \"SLL\": \"Sierra Leone Leone\", \"SOS\": \"Somalia Shilling\", \"SPL:\": \"Seborga Luigino\",\n\t        \"SR:D\": \"Suriname Dollar\", \"STD\": \"São Tomé and Príncipe Dobra\", \"SVC\": \"El Salvador Colon\",\n\t        \"SYP\": \"Syria Pound\", \"SZL\": \"Swaziland Lilangeni\", \"THB\": \"Thailand Baht\",\n\t        \"TJS\": \"Tajikistan Somoni\", \"TMT\": \"Turkmenistan Manat\", \"TND\": \"Tunisia Dinar\",\n\t        \"TOP\": \"Tonga Pa'anga\", \"TRY\": \"Turkey Lira\", \"TTD\": \"Trinidad and Tobago Dollar\",\n\t        \"TVD\": \"Tuvalu Dollar\", \"TWD\": \"Taiwan New Dollar\", \"TZS\": \"Tanzania Shilling\",\n\t        \"UAH\": \"Ukraine Hryvnia\", \"UGX\": \"Uganda Shilling\", \"USD\": \"&#36;\",\n\t        \"UYU\": \"Uruguay Peso\", \"UZS\": \"Uzbekistan Som\", \"VEF\": \"Venezuela Bolivar\",\n\t        \"VND\": \"Viet Nam Dong\", \"VUV\": \"Vanuatu Vatu\", \"WST\": \"Samoa Tala\",\n\t        \"XAF\": \"Communauté Financière Africaine (BEAC) CFA Franc BEAC\", \"XCD\": \"East Caribbean Dollar\",\n\t        \"XDR\": \"International Monetary Fund (IMF) Special Drawing Rights\",\n\t        \"XOF\": \"Communauté Financière Africaine (BCEAO) Franc\",\n\t        \"XPF\": \"Comptoirs Français du Pacifique (CFP) Franc\", \"YER\": \"Yemen Rial\",\n\t        \"ZAR\": \"South Africa Rand\", \"ZMW\": \"Zambia Kwacha\", \"ZWD\": \"Zimbabwe Dollar\"\n\t    };\n\n\t    return currency_symbols[currency_symbol];\n\t}\n\n\tclass RenderPieChart {\n\t    constructor(data, id) {\n\t        this.data = data;\n\t        this.id = id;\n\t    }\n\n\t    shortages() {\n\t        //console.log(data);\n\n\t        var width = 300;\n\t        var height = 300;\n\t        var radius = 150;\n\t        var colors = d3.scale.ordinal().range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n\t        var pieData = unpack.pie(this.data);\n\t        //console.log(pieData);\n\n\t        var pie = d3.layout.pie().value(function (d) {\n\t            //console.log(d[1]);\n\t            return d[1];\n\t        });\n\n\t        var arc = d3.svg.arc().outerRadius(radius);\n\n\t        var myChart = d3.select(this.id).append('svg').attr('width', width).attr('height', height).append('g').attr('transform', 'translate(' + (width - radius) + ',' + (height - radius) + ')').selectAll('path').data(pie(pieData)).enter().append('g').attr('class', 'slice');\n\n\t        var slices = d3.selectAll('g.slice').append('path').attr('fill', function (d, i) {\n\t            return colors(i);\n\t        }).attr('opacity', .6).attr('d', arc);\n\n\t        var text = d3.selectAll('g.slice').append('text').text(function (d, i) {\n\t            //console.log(d.data[0]);\n\n\t            return d.data[0];\n\t        }).attr('text-anchor', 'middle').attr('fill', 'white').attr('transform', function (d) {\n\t            d.innerRadius = 0;\n\t            d.outerRadius = radius;\n\t            return 'translate(' + arc.centroid(d) + ')';\n\t        });\n\t    }\n\n\t    excess() {\n\t        //console.log(data);\n\n\t        var width = 300;\n\t        var height = 300;\n\t        var radius = 150;\n\t        var colors = d3.scale.ordinal().range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n\t        var pieData = unpack.excess(this.data, 'chart');\n\t        //console.log(pieData);\n\n\t        var pie = d3.layout.pie().value(function (d) {\n\t            //console.log(d[1]);\n\t            return d[1];\n\t        });\n\n\t        var arc = d3.svg.arc().outerRadius(radius);\n\n\t        var myChart = d3.select(this.id).append('svg').attr('width', width).attr('height', height).append('g').attr('transform', 'translate(' + (width - radius) + ',' + (height - radius) + ')').selectAll('path').data(pie(pieData)).enter().append('g').attr('class', 'slice');\n\n\t        var slices = d3.selectAll('g.slice').append('path').attr('fill', function (d, i) {\n\t            return colors(i);\n\t        }).attr('opacity', .6).attr('d', arc);\n\n\t        var text = d3.selectAll('g.slice').append('text').text(function (d, i) {\n\t            //console.log(d.data);\n\n\t            return d.data[0];\n\t        }).attr('text-anchor', 'middle').attr('fill', 'white').attr('transform', function (d) {\n\t            d.innerRadius = 0;\n\t            d.outerRadius = radius;\n\t            return 'translate(' + arc.centroid(d) + ')';\n\t        });\n\t    }\n\n\t    classification(id) {\n\t        var width = 300;\n\t        var height = 300;\n\t        var radius = 150;\n\t        var colors = d3.scale.ordinal().range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n\t        var pieData = unpack.classification(this.data, id);\n\t        //console.log(pieData);\n\n\t        var pie = new d3.layout.pie().value(function (d) {\n\t            //console.log(d[1]);\n\t            return d[1];\n\t        });\n\n\t        var arc = new d3.svg.arc().outerRadius(radius);\n\n\t        var myChart = d3.select(this.id).append('svg').attr('width', width).attr('height', height).append('g').attr('transform', 'translate(' + (width - radius) + ',' + (height - radius) + ')').selectAll('path').data(pie(pieData)).enter().append('g').attr('class', 'slice');\n\n\t        var slices = d3.selectAll('g.slice').append('path').attr('fill', function (d, i) {\n\t            return colors(i);\n\t        }).attr('opacity', .6).attr('d', arc);\n\n\t        var text = d3.selectAll('g.slice').append('text').text(function (d, i) {\n\t            //console.log(d.data[0]);\n\n\t            return d.data[0];\n\t        }).attr('text-anchor', 'middle').attr('fill', 'white').attr('transform', function (d) {\n\t            d.innerRadius = 0;\n\t            d.outerRadius = radius;\n\t            return 'translate(' + arc.centroid(d) + ')';\n\t        });\n\t    }\n\n\t}\n\n\tclass RenderForceChart {\n\t    constructor(data, id) {\n\t        this.data = data;\n\t        this.id = id;\n\t    }\n\n\t    classification_force() {\n\t        var w = 800,\n\t            h = 400;\n\n\t        var circleWidth = 5;\n\n\t        var palette = {\n\t            \"lightgray\": \"#819090\",\n\t            \"gray\": \"#708284\",\n\t            \"mediumgray\": \"#536870\",\n\t            \"darkgray\": \"#475B62\",\n\n\t            \"darkblue\": \"#0A2933\",\n\t            \"darkerblue\": \"#042029\",\n\n\t            \"paleryellow\": \"#FCF4DC\",\n\t            \"paleyellow\": \"#EAE3CB\",\n\t            \"yellow\": \"#A57706\",\n\t            \"orange\": \"#BD3613\",\n\t            \"red\": \"#D11C24\",\n\t            \"pink\": \"#C61C6F\",\n\t            \"purple\": \"#595AB7\",\n\t            \"blue\": \"#2176C7\",\n\t            \"green\": \"#259286\",\n\t            \"yellowgreen\": \"#738A05\"\n\t        };\n\n\t        var nodes1 = [];\n\t        for (var s = 0; s < this.data.objects.length; s++) {\n\t            if (s == 0) {\n\t                nodes1.push({ name: this.data.objects[s].abc_xyz_classification });\n\t            } else {\n\t                nodes1.push({ name: this.data.objects[s].sku.sku_id, target: [0] });\n\t            }\n\t        }\n\n\t        var nodes = [{ name: \"Parent\" }, { name: \"child1\" }, { name: \"child2\", target: [0] }, { name: \"child3\", target: [0] }, { name: \"child4\", target: [1] }, { name: \"child5\", target: [0, 1, 2, 3] }];\n\n\t        var links = [];\n\n\t        for (var i = 0; i < nodes1.length; i++) {\n\t            if (nodes1[i].target !== undefined) {\n\t                for (var x = 0; x < nodes1[i].target.length; x++) {\n\t                    links.push({\n\t                        source: nodes1[i],\n\t                        target: nodes1[nodes1[i].target[x]]\n\t                    });\n\t                }\n\t            }\n\t        }\n\n\t        var myChart = d3.select(this.id).append('svg').attr('width', w).attr('height', h);\n\n\t        var force = d3.layout.force().nodes(nodes1).links([]).gravity(0.3).charge(-1000).size([w, h]);\n\n\t        var link = myChart.selectAll('line').data(links).enter().append('line').attr('stroke', palette.gray);\n\n\t        var node = myChart.selectAll('circle').data(nodes1).enter().append('g').call(force.drag);\n\n\t        node.append('circle').attr('cx', function (d) {\n\t            return d.x;\n\t        }).attr('cy', function (d) {\n\t            return d.y;\n\t        }).attr('r', circleWidth).attr('fill', function (d, i) {\n\t            if (i > 0) {\n\t                return palette.blue;\n\t            } else {\n\t                return palette.pink;\n\t            }\n\t        });\n\n\t        node.append('text').text(function (d) {\n\t            return d.name;\n\t        }).attr('fill', function (d, i) {\n\t            if (i > 0) {\n\t                return palette.paleyellow;\n\t            } else {\n\t                return palette.blue;\n\t            }\n\t        }).attr('x', function (d, i) {\n\t            if (i > 0) {\n\t                return circleWidth + 3;\n\t            } else {\n\t                return circleWidth - 5;\n\t            }\n\t        }).attr('y', function (d, i) {\n\t            if (i > 0) {\n\t                return circleWidth;\n\t            } else {\n\t                return circleWidth - 8;\n\t            }\n\t        }).attr('font-family', 'Roboto Slab').attr('text-anchor', function (d, i) {\n\t            if (i > 0) {\n\t                return 'beginning';\n\t            } else {\n\t                return 'end';\n\t            }\n\t        }).attr('font-size', function (d, i) {\n\t            if (i > 0) {\n\t                return '1em';\n\t            } else {\n\t                return '1.5em';\n\t            }\n\t        });\n\n\t        force.on('tick', function (e) {\n\t            node.attr('transform', function (d, i) {\n\t                return 'translate(' + d.x + ', ' + d.y + ')';\n\t            });\n\n\t            link.attr('x1', function (d) {\n\t                return d.source.x;\n\t            }).attr('y1', function (d) {\n\t                return d.source.y;\n\t            }).attr('x2', function (d) {\n\t                return d.target.x;\n\t            }).attr('y2', function (d) {\n\t                return d.target.y;\n\t            });\n\t        });\n\n\t        force.start();\n\t    }\n\t}\n\n\tfunction create_shortages_table(data) {\n\t    var total_shortage = 0;\n\t    //console.log(data.objects);\n\t    //var max_shortage = Math.max(data.shortage_cost);\n\t    //console.log(currency_symbol_allocator(\"AFN\"));\n\n\t    $(\"#shortage-table\").append().html(\"<tr id='first'><th>SKU</th><th>Quantity on Hand</th><th>Average Orders</th>\" + \"<th>Shortage</th><th>Shortage Cost</th><th>Safety Stock</th><th>Reorder Level</th> \" + \"<th>Percentage Contribution</th><th>Revenue Rank</th><th>Classification</th></tr>\");\n\t    var percentage_stockoout = 0;\n\t    var t = [];\n\t    var largest = 0;\n\t    var understocked_qoh = 0;\n\t    var understocked_sku;\n\t    var understocked_rol;\n\t    var understocked_id;\n\t    for (var i = 0; i < data.json_list.length; i++) {\n\t        console.log(data.json_list[i].shortage_cost);\n\t        total_shortage += data.json_list[i].shortage_cost;\n\t        var shortage_sku_id;\n\t        var shortage_units;\n\t        var shortage_id;\n\t        if (parseInt(data.json_list[i].shortage_cost) > parseInt(largest)) {\n\t            largest = data.json_list[i].shortage_cost;\n\t            //console.log(parseInt(largest));\n\t            shortage_id = data.json_list[i].sku.id;\n\t            shortage_sku_id = data.json_list[i].sku.sku_id;\n\t            shortage_units = data.json_list[i].shortages;\n\t        }\n\n\t        if (parseInt(data.json_list[i].quantity_on_hand) < parseInt(data.json_list[i].safety_stock) / 2) {\n\t            percentage_stockoout += 1;\n\t        }\n\t        var temp_net_stock = data.json_list[i].quantity_on_hand - data.json_list[i].reorder_level;\n\t        if (Math.abs(temp_net_stock) > understocked_qoh) {\n\t            understocked_qoh = data.json_list[i].quantity_on_hand;\n\t            understocked_sku = data.json_list[i].sku.sku_id;\n\t            understocked_rol = data.json_list[i].reorder_level;\n\t            understocked_id = data.json_list[i].sku.id;\n\t        }\n\t    }\n\n\t    // Percentage of top 10 SKU likely to face a stock-out situation. SKU is at risk below 50% of the safety stock.\n\t    //This should be moved into the main library.\n\t    percentage_stockoout = parseInt(percentage_stockoout) / data.json_list.length * 100;\n\n\t    //Total Shortage of the to ten.\n\t    //console.log(percentage_stockoout);\n\t    $(\"#total-shortage\").append().html(\"<h1><strong>\" + format_number(total_shortage) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\n\t    // top shortage SKU id\n\t    $(\"#lg-shortage-sku\").append().html(\"<a href=\\\"sku_detail/\" + shortage_id + \"\\\">\" + \"<strong>\" + shortage_sku_id + \"</strong></a>\").find(\"> h1\").css(\"color\", \"#2176C7\");\n\n\t    //largest shortage cost\n\t    $(\"#lg-shortage-cost\").append().html(\"<h1 class='slate-text-lg'><strong>\" + format_number(largest) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\n\t    //units for largest shortage cost.\n\t    $(\"#lg-shortage-units\").append().html(\"<h1><strong>\" + format_number(shortage_units) + \" units\" + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"#819090\");\n\n\t    //percentage of SKUs likely to experience stock-out\n\t    $(\"#shortage-percentage\").append().html(\"<h1><strong>\" + percentage_stockoout + \"%\" + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"#819090\");\n\n\t    $(\"#understocked-sku\").append().html(\"<a href=\\\"sku_detail/\" + understocked_id + \"\\\">\" + \"<strong>\" + understocked_sku + \"</strong></a>\").find(\"> h1\").css(\"color\", \"#2176C7\");\n\n\t    $(\"#understocked-qoh\").append().html(\"<h1><strong>\" + \"qty on hand: \" + understocked_qoh + \" units\" + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"#819090\");\n\n\t    $(\"#understocked_rol\").append().html(\"<h1><strong>\" + \"reorder level: \" + understocked_rol + \" units\" + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"#819090\");\n\t}\n\n\tfunction create_excess_table(data) {\n\t    var total_excess = 0,\n\t        percentage_excess = 0;\n\n\t    $(\"#excess-table\").append().html(\"<tr id='first'><th>SKU</th><th>Quantity on Hand</th><th>Average Orders</th>\" + \"<th>Excess</th><th>Excess Cost</th><th>Excess Inventory %</th><th>Safety Stock</th><th>Reorder Level</th><th>Classification</th></tr>\");\n\t    //console.log(excess_data);\n\t    var obj;\n\t    var largest = 0;\n\t    var excess_sku_id;\n\t    var excess_units;\n\t    var excess_cost;\n\t    var holding_cost = 0;\n\t    var excess_id;\n\n\t    for (var i = 0; i < data.objects.length; i++) {\n\t        //console.log(excess_data[obj].sku_id);\n\t        total_excess += data.objects[i].excess_cost;\n\t        holding_cost += data.objects[i].quantity_on_hand * (data.objects[i].unit_cost * 0.25); //change later to be chosen by use\n\t        var symbols = currency_symbol_allocator(data.objects[i].currency.currency_code);\n\t        percentage_excess = Math.round(data.objects[i].excess_stock / data.objects[i].quantity_on_hand * 100);\n\t        $(\"<tr><td><a href=\\\"sku_detail/\" + data.objects[i].sku_id + \"\\\">\" + data.objects[i].sku.sku_id + \"</td>\" + \"<td>\" + format_number(data.objects[i].quantity_on_hand) + \"</td>\" + \"<td>\" + format_number(data.objects[i].average_orders) + \"</td>\" + \"<td>\" + format_number(data.objects[i].excess_stock) + \"</td>\" + \"<td>\" + currency_symbol_allocator(data.objects[i].currency.currency_code) + format_number(data.objects[i].excess_cost) + \"</td>\" + \"<td>\" + percentage_excess + \"%\" + \"</td>\" + \"<td>\" + format_number(data.objects[i].safety_stock) + \"</td>\" + \"<td>\" + format_number(data.objects[i].reorder_level) + \"</td>\" + \"<td><a href=\\\"abcxyz/\" + data.objects[i].abc_xyz_classification + \"\\\">\" + data.objects[i].abc_xyz_classification + \"</a></td></tr>\").insertAfter(\"#excess-table tr:last\");\n\n\t        if (parseInt(data.objects[i].excess_cost) > parseInt(largest)) {\n\t            largest = data.objects[i].excess_cost;\n\t            //console.log(parseInt(largest));\n\t            excess_sku_id = data.objects[i].sku.sku_id;\n\t            excess_units = data.objects[i].excess_stock;\n\t            excess_cost = data.objects[i].excess_cost;\n\t            excess_id = data.objects[i].sku.id;\n\t        }\n\t    }\n\n\t    $.ajax({\n\t        type: \"GET\",\n\t        contentType: \"application/json; charset=utf-8\",\n\t        url: '/api/total_inventory',\n\t        dataType: 'json',\n\t        async: true,\n\t        data: \"{}\",\n\t        success: function (data) {\n\t            // console.log(data);\n\t            var items = [...data.json_list];\n\t            //console.log(items.length);\n\t            var total_invetory = 0;\n\t            for (i = 0; i < items.length; i++) {\n\n\t                total_invetory += items[i].quantity_on_hand * items[i].unit_cost;\n\n\t                //console.log(total_invetory);\n\t            }\n\t            var percentage_excess;\n\t            //console.log(total_invetory);\n\t            percentage_excess = Math.round(total_excess / total_invetory * 100, 0);\n\n\t            $(\"#excess-inventory-sl\").append().html(\"<h1><strong>\" + percentage_excess + \"%\" + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"#D11C29\");\n\t        },\n\t        error: function (result) {}\n\t    });\n\n\t    // top excess pebble\n\t    $(\"#lg-excess-sku\").append().html(\"<a href=\\\"sku_detail/\" + excess_id + \"\\\">\" + \"<strong>\" + excess_sku_id + \"</strong></a>\").find(\"> h1\").css(\"color\", \"#2176C7\");\n\t    $(\"#lg-excess-cost\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(excess_cost) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\t    $(\"#lg-excess-units\").append().html(\"<h1><strong>\" + format_number(excess_units) + \" units\" + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"#819090\");\n\t    $(\"#total-excess\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(total_excess) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\n\t    $(\"#excess-holding-cost-sl\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(holding_cost) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\t}\n\n\tfunction create_classification_table(data) {\n\n\t    var abc_xyz_data = new unpack.abc_xyz(data, 'table');\n\t    var currency_code;\n\t    //console.log(abc_xyz_data);\n\n\t    $(\"#classification-table\").append().html(\"<tr id='classification-row'><th>Classification</th><th>Revenue</th><th>Shortages</th>\" + \"<th>Excess</th></tr>\");\n\t    //console.log(excess_data);\n\n\t    var obj;\n\n\t    var symbols = currency_symbol_allocator(abc_xyz_data[0].currency_code);\n\t    //console.log(symbols, abc_xyz_data[0].currency_code);\n\t    for (obj in abc_xyz_data) {\n\t        //console.log(abc_xyz_data[obj].abc_xyz_classification);\n\t        $(\"<tr><td><a href=\\\"abcxyz/\" + abc_xyz_data[obj].abc_xyz_classification + \"\\\">\" + abc_xyz_data[obj].abc_xyz_classification + \"</a>\" + \"<td>\" + symbols + format_number(abc_xyz_data[obj].total_revenue) + \"</td>\" + \"<td>\" + symbols + format_number(abc_xyz_data[obj].total_shortages) + \"</td>\" + \"<td>\" + symbols + format_number(abc_xyz_data[obj].total_excess) + \"</td>\" + \"</td></tr>\").insertAfter(\"#classification-table tr:last\");\n\t    }\n\n\t    var max_shortage = 0;\n\t    var max_class;\n\t    var max_excess = 0;\n\t    var excess_class;\n\t    var total_shortages = 0;\n\t    var total_excess = 0;\n\t    var item;\n\t    var tempValue;\n\t    var tempClass;\n\t    for (item in abc_xyz_data) {\n\t        if (abc_xyz_data[item].total_shortages > max_shortage) {\n\t            max_shortage = abc_xyz_data[item].total_shortages;\n\t            max_class = abc_xyz_data[item].abc_xyz_classification;\n\t        }\n\t        if (abc_xyz_data[item].total_excess > max_excess) {\n\t            max_excess = abc_xyz_data[item].total_excess;\n\t            excess_class = abc_xyz_data[item].abc_xyz_classification;\n\t        }\n\t        total_shortages += abc_xyz_data[item].total_shortages;\n\t        total_excess += abc_xyz_data[item].total_excess;\n\t    }\n\n\t    $(\"#lg-shortage-classification\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(max_shortage) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\t    $(\"#lg-shortage-classification-class\").append().html(\"<a href=\\\"abcxyz/\" + max_class + \"\\\">\" + \"<strong>\" + max_class + \"</strong></a>\").find(\"> h1\").css(\"color\", \"#2176C7\");\n\t    $(\"#lg-total-shortage\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(total_shortages) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\t    $(\"#lg-shortage-percentage\").append().html(\"<h1><strong>\" + Math.round(max_shortage / total_shortages * 100) + \"% of Total Shortage\" + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"#708284\");\n\n\t    $(\"#lg-excess-classification\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(max_excess) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\t    $(\"#lg-excess-classification-class\").append().html(\"<a href=\\\"abcxyz/\" + excess_class + \"\\\">\" + \"<strong>\" + excess_class + \"</strong>\").find(\"> h1\").css(\"color\", \"#2176C7\");\n\t    $(\"#lg-excess-percentage\").append().html(\"<h1><strong>\" + Math.round(max_excess / total_excess * 100) + \"% of Total Excess\" + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"#708284\");\n\t    $(\"#lg-total-excess\").append().html(\"<h1 class='slate-text-lg'><strong>\" + symbols + format_number(total_excess) + \"</strong></h1>\").find(\"> h1\").css(\"color\", \"white\");\n\t}\n\n\t// --------------Graphing-----------------------\n\n\t// change functions to graph rendering class\n\t/*function render_revenue_graph(data, id) {\n\t var barData = unpack.sku_detail(data, \"revenue\");//change to enums\n\t var tempData = [];\n\n\t //console.log(barData);\n\t //var height = 350,\n\t //   width = 300,\n\t var margin = {top: 30, right: 20, bottom: 40, left: 90};\n\n\t var height = 350 - margin.top - margin.bottom;\n\t var width = 400 - margin.left - margin.right;\n\t var barWidth = 10;\n\t var barOffset = 5;\n\n\t var tempColor;\n\n\n\t var yScale = d3.scale.linear()\n\t .domain([0, d3.max(barData)]) //  calculates the max range of the chart area\n\t .range([0, height]); // the range of the chart area\n\n\t var xScale = d3.scale.ordinal()\n\t .domain(d3.range(0, barData.length))\n\t .rangeBands([0, width]);\n\n\t var colors = d3.scale.linear()\n\t .domain([0, barData.length * .33, barData.length * .88, barData.length])\n\t .range(['#FFB832', '#C61C6F', '#C31C6F', '#382982']); //the number of values in the domain must match the number of values in the range\n\n\t var myChart = d3.select(id).append('svg')\n\t .style('background', 'transparent')\n\t .attr('width', width + margin.left + margin.right)\n\t .attr('height', height + margin.top + margin.bottom)\n\t .append('g')\n\t .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')')\n\t .selectAll('rect').data(barData)\n\t .enter().append('rect') //the data command reads the bar data and the appends the selectall rect for each piece of data\n\t .style('fill', colors)\n\t .attr('width', xScale.rangeBand())\n\t .attr('height', 0)\n\t .attr('x', function (d, i) {\n\t return xScale(i);\n\t })\n\t .attr('y', height)\n\t .on('mouseover', function (d) {\n\n\t tooltip.transaction()\n\t .style('opacity', 0.5);\n\t tooltip.html(d)\n\t .style('left', (d3.event.pageX - 35) + 'px')\n\t .style('top', (d3.event.pageY - 30) + 'px');\n\n\t tempColor = this.style.fill;\n\n\t d3.select(this)\n\t .style('opacity', .5)\n\t .style('fill', '#389334')\n\n\t }).on('mouseout', function (d) {\n\t d3.select(this)\n\t .style('opacity', 1)\n\t .style('fill', tempColor)\n\t });\n\n\t myChart.transition()\n\t .attr('height', function (d) {\n\t return yScale(d);\n\t })\n\t .attr('y', function (d) {\n\t return height - yScale(d);\n\t })\n\t .delay(function (d, i) {\n\t return i * 20;\n\t })\n\t .duration(1000)\n\t .ease('elastic');\n\n\n\t var tooltip = d3.select('body')\n\t .append('div')\n\t .style('position', 'absolute')\n\t .style('background', 'white')\n\t .style('padding', '0 10px')\n\t .style('opacity', 0);\n\n\t var vGuideScale = d3.scale.linear()\n\t .domain([0, d3.max(barData)]).range([height, 0]); //reversing the order of the scale on the y axis\n\t var vAxis = d3.svg.axis()\n\t .scale(vGuideScale)\n\t .orient('left')\n\t .ticks(10);\n\n\t var vGuide = d3.select('svg').append('g');\n\t vAxis(vGuide);\n\t vGuide.attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');\n\t vGuide.selectAll('path')\n\t .style({fill: 'none', stroke: \"#000\"});\n\t vGuide.selectAll('line')\n\t .style({stroke: \"#000\"});\n\n\t var hAxis = d3.svg.axis()\n\t .scale(xScale)\n\t .orient('bottom')\n\t .tickValues(xScale.domain().filter(function (d, i) {\n\t return !(i % (barData.length / 10));\n\t }));\n\n\t var hGuide = d3.select('svg').append('g');\n\t hAxis(hGuide);\n\t hGuide.attr('transform', 'translate(' + margin.left + ', ' + (height + margin.top) + ')');\n\t hGuide.selectAll('path')\n\t .style({fill: 'none', stroke: \"#000\"});\n\t hGuide.selectAll('line')\n\t .style({stroke: \"#000\"});\n\n\n\t }\n\t */\n\n\tfunction render_shortages_chart(data, id) {\n\t    var bardata = unpack.shortages(data, 'chart');\n\t    var nums = [];\n\t    var switchColor;\n\n\t    for (i in bardata) {\n\t        nums.push(bardata[i][1]);\n\t    }\n\n\t    var tooltip = d3.select('body').append('div').style('position', 'absolute').style('background', 'white').style('padding', '0 10px').style('opacity', 0);\n\n\t    //console.log(nums);\n\n\t    var margin = { top: 30, right: 50, bottom: 40, left: 95 };\n\n\t    var height = 350 - margin.top - margin.bottom;\n\t    var width = 600 - margin.left - margin.right;\n\n\t    var colors = d3.scale.linear().domain([0, nums.length * .33, nums.length * .66, nums.length]).range(['white', '#259286', '#738A05', '#2176C7']);\n\n\t    var yScale = d3.scale.linear().domain([0, d3.max(nums)]).range([0, height]);\n\n\t    var xScale = d3.scale.ordinal().domain(d3.range(0, nums.length)).rangeBands([0, width], .2); // space the bars on the chart\n\n\t    var shortage_chart = d3.select(id).append('svg').style('background', '#0A2933;').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')') //moving the chart graphic\n\t    .selectAll('rect').data(nums).enter().append('rect').style('fill', function (d, i) {\n\t        return colors(i);\n\t    }).attr('width', xScale.rangeBand()).attr('height', 0).attr('x', function (d, i) {\n\t        return xScale(i);\n\t    }).attr('y', height).on('mouseover', function (d) {\n\t        //console.log(d);\n\t        tooltip.transition().style('opacity', 0.5);\n\t        tooltip.html(d).style('left', d3.event.pageX - 35 + 'px').style('top', d3.event.pageY - 30 + 'px');\n\n\t        switchColor = this.style.fill;\n\t        d3.select(this).style('opacity', .5);\n\t        d3.select(this).style('fill', '#D11C24');\n\t    }).on('mouseout', function (d) {\n\t        d3.select(this).transition().delay(300).duration(300).style('fill', switchColor);\n\t        d3.select(this).style('opacity', 1);\n\t    });\n\t    //transitions graph in\n\t    shortage_chart.transition().attr('height', function (d, i) {\n\t        return yScale(d);\n\t    }).attr('y', function (d) {\n\t        return height - yScale(d);\n\t    }).delay(function (d, i) {\n\t        return i * 70;\n\t    }).ease('elastic');\n\n\t    var vGuideScale = d3.scale.linear().domain([0, d3.max(nums)]).range([height, 0]); //reversing the order of the scale on the y axi\n\n\t    var vAxis = d3.svg.axis().scale(vGuideScale).orient('left').ticks(10);\n\n\t    var vGuide = d3.select('#shortage-chart > svg').append('g');\n\t    vAxis(vGuide);\n\t    vGuide.attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');\n\t    vGuide.selectAll('path').style({ fill: 'none', stroke: \"white\" });\n\t    vGuide.selectAll('line').style({ stroke: \"white\" });\n\t    vGuide.selectAll('text').style({ stroke: \"grey\" });\n\n\t    var name = d3.scale.ordinal().range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n\t    var hAxis = d3.svg.axis().scale(xScale).orient('bottom').tickValues(xScale.domain().filter(function (d, i) {\n\t        return !(i % (nums.length / 5));\n\t    }));\n\n\t    var hGuide = d3.select('#shortage-chart > svg').append('g');\n\t    hAxis(hGuide);\n\t    hGuide.attr('transform', 'translate(' + margin.left + ', ' + (height + margin.top) + ')');\n\t    hGuide.selectAll('path').style({ fill: 'none', stroke: \"white\" });\n\t    hGuide.selectAll('line').style({ stroke: \"white\" });\n\t    hGuide.selectAll('text').style({ stroke: \"grey\" });\n\t}\n\n\tfunction render_excess_chart(data, id) {\n\t    var bardata = unpack.excess_cost(data, 'chart');\n\t    //console.log(bardata);\n\t    var nums = [];\n\t    var switchColor;\n\n\t    for (i in bardata) {\n\t        nums.push(bardata[i][1]);\n\t    }\n\n\t    var tooltip = d3.select('body').append('div').style('position', 'absolute').style('background', 'white').style('padding', '0 10px').style('opacity', 0);\n\n\t    //console.log(nums);\n\n\t    var margin = { top: 30, right: 50, bottom: 40, left: 95 };\n\n\t    var height = 350 - margin.top - margin.bottom;\n\t    var width = 600 - margin.left - margin.right;\n\n\t    var colors = d3.scale.linear().domain([0, nums.length * .33, nums.length * .66, nums.length]).range(['white', '#259286', '#738A05', '#2176C7']);\n\n\t    var yScale = d3.scale.linear().domain([0, d3.max(nums)]).range([0, height]);\n\n\t    var xScale = d3.scale.ordinal().domain(d3.range(0, nums.length)).rangeBands([0, width], .2); // space the bars on the chart\n\n\t    var shortage_chart = d3.select(id).append('svg').style('background', '#0A2933;').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')') //moving the chart graphic\n\t    .selectAll('rect').data(nums).enter().append('rect').style('fill', function (d, i) {\n\t        return colors(i);\n\t    }).attr('width', xScale.rangeBand()).attr('height', 0).attr('x', function (d, i) {\n\t        return xScale(i);\n\t    }).attr('y', height).on('mouseover', function (d) {\n\t        //console.log(d);\n\t        tooltip.transition().style('opacity', 0.5);\n\t        tooltip.html(d).style('left', d3.event.pageX - 35 + 'px').style('top', d3.event.pageY - 30 + 'px');\n\n\t        switchColor = this.style.fill;\n\t        d3.select(this).style('opacity', .5);\n\t        d3.select(this).style('fill', '#D11C24');\n\t    }).on('mouseout', function (d) {\n\t        d3.select(this).transition().delay(300).duration(300).style('fill', switchColor);\n\t        d3.select(this).style('opacity', 1);\n\t    });\n\t    //transitions graph in\n\t    shortage_chart.transition().attr('height', function (d, i) {\n\t        return yScale(d);\n\t    }).attr('y', function (d) {\n\t        return height - yScale(d);\n\t    }).delay(function (d, i) {\n\t        return i * 70;\n\t    }).ease('elastic');\n\n\t    var vGuideScale = d3.scale.linear().domain([0, d3.max(nums)]).range([height, 0]); //reversing the order of the scale on the y axi\n\n\t    var vAxis = d3.svg.axis().scale(vGuideScale).orient('left').ticks(10);\n\n\t    var vGuide = d3.select('#excess-chart > svg').append('g');\n\t    vAxis(vGuide);\n\t    vGuide.attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')');\n\t    vGuide.selectAll('path').style({ fill: 'none', stroke: \"white\" });\n\t    vGuide.selectAll('line').style({ stroke: \"white\" });\n\t    vGuide.selectAll('text').style({ stroke: \"grey\" });\n\n\t    var name = d3.scale.ordinal().range(['#259286', '#2176C7', '#FCF4DC', 'white', '#819090', '#A57706', '#EAE3CB', '#2e004d']);\n\n\t    var hAxis = d3.svg.axis().scale(xScale).orient('bottom').tickValues(xScale.domain().filter(function (d, i) {\n\t        return !(i % (nums.length / 5));\n\t    }));\n\n\t    var hGuide = d3.select('#excess-chart > svg').append('g');\n\t    hAxis(hGuide);\n\t    hGuide.attr('transform', 'translate(' + margin.left + ', ' + (height + margin.top) + ')');\n\t    hGuide.selectAll('path').style({ fill: 'none', stroke: \"white\" });\n\t    hGuide.selectAll('line').style({ stroke: \"white\" });\n\t    hGuide.selectAll('text').style({ stroke: \"grey\" });\n\t}\n\n\t//# sourceMappingURL=auxiliary-compiled.js.map\n\n/***/ }\n/******/ ]);"]}